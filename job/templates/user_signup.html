{% load static %}

{% block body %}
{% include 'navigation.html' %}

<title>User Signup | Job Pulse</title>
<link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<link rel="stylesheet" href="{% static 'css/user_signup.css' %}">

<div class="signup-container">
    <div class="logo">
        <i class="fas fa-user"></i>
        <h1>Job Pulse</h1>
        <p>User Registration</p>
    </div>

    <div class="welcome-message">
        <h2>Join Our Platform</h2>
        <p>Find your dream job today</p>
    </div>

    <form onsubmit="return validateForm();" name="signup" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        
        <div class="form-row">
            <div class="form-group">
                <label class="required-field">First Name</label>
                <i class='bx bx-user input-icon'></i>
                <input type="text" class="input-field" name="fname" placeholder="Enter First Name" required>
            </div>

            <div class="form-group">
                <label>Last Name</label>
                <i class='bx bx-user input-icon'></i>
                <input type="text" class="input-field" name="lname" placeholder="Enter Last Name">
            </div>
        </div>

        <div class="form-group">
            <label class="required-field">Contact Number</label>
            <i class='bx bx-phone input-icon'></i>
            <input type="text" class="input-field" id="contact" name="contact" placeholder="Enter 10-digit Phone Number" required>
            <div class="validation-error" id="contact-error">Please enter a valid 10-digit phone number</div>
            <div class="validation-success" id="contact-success">Valid phone number</div>
        </div>

        <div class="form-group">
            <label class="required-field">Email Address</label>
            <i class='bx bx-envelope input-icon'></i>
            <input type="email" class="input-field" id="email" name="email" placeholder="Enter Email Address" required>
            <div class="validation-error" id="email-error">Please enter a valid email address</div>
            <div class="validation-success" id="email-success">Valid email address</div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label class="required-field">Password</label>
                <i class='bx bx-lock-alt input-icon'></i>
                <input type="password" class="input-field" id="pwd" name="pwd" placeholder="Enter Password" required>
                <div class="validation-error" id="pwd-error">Password must be at least 8 characters</div>
            </div>

            <div class="form-group">
                <label class="required-field">Confirm Password</label>
                <i class='bx bx-lock input-icon'></i>
                <input type="password" class="input-field" id="cpwd" name="cpwd" placeholder="Confirm Password" required>
                <div class="validation-error" id="cpwd-error">Passwords do not match</div>
                <div class="validation-success" id="cpwd-success">Passwords match</div>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label class="required-field">Gender</label>
                <div class="gender-group">
                    <div class="gender-options">
                        <div class="gender-option">
                            <input type="radio" id="customRadioInLine1" name="gender" value="Male" required>
                            <label for="customRadioInLine1">Male</label>
                        </div>
                        <div class="gender-option">
                            <input type="radio" id="customRadioInLine2" name="gender" value="Female" required>
                            <label for="customRadioInLine2">Female</label>
                        </div>
                    </div>
                </div>
                <div class="validation-error" id="gender-error">Please select your gender</div>
            </div>

            <div class="form-group">
                <label class="required-field">Profile Image</label>
                <div class="file-input-container">
                    <div class="file-input-label">
                        <i class='bx bx-upload'></i>
                        <span>Choose profile image (JPG, PNG)</span>
                    </div>
                    <input type="file" id="image" name="image" accept="image/*" required>
                </div>
                <div id="file-name" class="file-name"></div>
                <div class="validation-error" id="image-error">Please select an image file (JPG, PNG)</div>
            </div>
        </div>
        
        <div class="btn-container">
            <button type="submit" class="btn-signup" id="submit-btn">
                <i class='bx bx-user-plus'></i> Create Account
            </button>
            
            <a href="{% url 'user_login' %}" class="btn-login">
                <i class='bx bx-log-in'></i> Already have an account? Login here
            </a>
        </div>
    </form>
</div>

<script src="{% static 'js/user_signup.js' %}"></script>

{% include 'footer.html' %}

{% if error == "no" %}
<script>
    alert("Signup Successful");
    window.location = ('{% url 'user_login' %}');
</script>
{% endif %}

{% if error == "yes" %}
<script>
    alert("Something Went Wrong, Try Again...");
</script>
{% endif %}

{% endblock %}