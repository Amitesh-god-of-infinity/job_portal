{% load static %}
{% block body %}
{% include 'recuiter_navigation.html' %}

<title>Recruiter Dashboard | Job Pulse</title>
<link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>

<link rel="stylesheet" href="{% static 'css/recruiter_home.css' %}">

<body>
<div class="nav-dots">
    <div class="dot active" data-section="welcome"></div>
    <div class="dot" data-section="dashboard"></div>
</div>

<!-- Welcome Section (Admin Style) -->
<section id="welcome" class="section">
    <div class="company-brand">
        <i class="fa-solid fa-handshake-angle"></i>
        <h1 class="company-name">Welcome, {{recuiter.user.first_name}}</h1>
    </div>
    
    <div class="typing-text">
        <span id="typed"></span>
    </div>
    
    <p class="welcome-message">
        <span class="welcome-highlight">ðŸ«¡ Your recruiter dashboard is ready to serve...</span>
    </p>
    
    <div class="punchline">
        Let's find the perfect candidates!
    </div>
</section>

<!-- Profile Section (Original Recruiter Content) -->
<section id="dashboard" class="section" style="background: radial-gradient(circle at 50% 70%, rgba(0, 206, 201, 0.1), transparent 60%);">
    <div class="container">
        <h1 class="page-title">
            <i class="fas fa-user-circle"></i> My Profile
        </h1>
        
        <div class="profile-container">
            <div class="profile-form-container">
                <form class="mt-4" name="signup" method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="fname">First Name</label>
                            <input type="text" class="form-control" id="fname" name="fname" value="{{recuiter.user.first_name}}" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="lname">Last Name</label>
                            <input type="text" class="form-control" id="lname" name="lname" value="{{recuiter.user.last_name}}">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="contact">Contact Number</label>
                            <input type="text" class="form-control" id="contact" name="contact" value="{{recuiter.mobile}}" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="company">Company</label>
                            <input type="text" class="form-control" id="company" name="company" value="{{recuiter.company}}" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email ID</label>
                        <input type="text" class="form-control" id="email" name="email" readonly value="{{recuiter.user.username}}" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Gender</label>
                            <div class="radio-group">
                                {% if recuiter.gender == "Male" %}
                                <label class="custom-radio">
                                    <input type="radio" name="gender" value="Male" checked>
                                    Male
                                </label>
                                <label class="custom-radio">
                                    <input type="radio" name="gender" value="Female">
                                    Female
                                </label>
                                {% else %}
                                <label class="custom-radio">
                                    <input type="radio" name="gender" value="Male">
                                    Male
                                </label>
                                <label class="custom-radio">
                                    <input type="radio" name="gender" value="Female" checked>
                                    Female
                                </label>
                                {% endif %}
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="image">Profile Image</label>
                            <input type="file" class="form-control" id="image" name="image">
                        </div>
                    </div>
                    
                    <input type="submit" value="Update Profile" class="btn-primary">
                </form>
            </div>
            
            <div class="profile-image-container">
                <img src="{{recuiter.image.url}}" alt="Profile Image" class="profile-image">
                <div style="text-align: center;">
                    <h3>{{recuiter.user.first_name}} {{recuiter.user.last_name}}</h3>
                    <p>{{recuiter.company}}</p>
                    {% comment %} {% if recuiter.status == "active" %} {% endcomment %}
                    <span class="status-indicator status-active">
                        <i class="fas fa-check-circle"></i> Account Active
                    </span>
                    {% comment %} {% else %}
                    <span class="status-indicator status-pending">
                        <i class="fas fa-clock"></i> Approval Pending
                    </span>
                    {% endif %} {% endcomment %}
                </div>
            </div>
        </div>
    </div>
</section>

{% include 'footer.html' %}

<script src ="{% static 'js/recruiter_home.js' %}"></script> 

</body>

{% if error == "no" %}
<script>
    Swal.fire({
        icon: 'success',
        title: 'Profile Updated',
        text: 'Your profile has been updated successfully!',
        confirmButtonColor: '#6c5ce7'
    }).then(() => {
        window.location = ('{% url 'recuiter_home' %}');
    });
</script>
{% endif %}

{% if error == "yes" %}
<script>
    Swal.fire({
        icon: 'error',
        title: 'Update Failed',
        text: 'Something went wrong. Please try again.',
        confirmButtonColor: '#6c5ce7'
    });
</script>
{% endif %}

{% endblock %}