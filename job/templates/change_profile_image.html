{% extends 'user_navigation.html' %}

{% load static %}


{% block content %}

<title>Change Profile Image | Job Pulse</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<link rel="stylesheet" href="{% static 'css/change_profile_image.css' %}">

<div class="profile-container">
    <div class="profile-header">
        <i class="fas fa-user-circle"></i>
        <h2>Update Your Profile Image</h2>
        <p>Make a great first impression with a professional photo</p>
    </div>

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        
        <div class="current-image">
            <label>Current Profile Image</label>
            {% if student.image %}
                <img src="{{ student.image.url }}" class="profile-img" alt="Current Profile Image">
            {% else %}
                <img src="/media/def.jpg" class="profile-img" alt="Default Profile Image">
            {% endif %}
        </div>

        <div class="file-input-container">
            <label for="image">Select New Image</label>
            <div class="file-input-wrapper">
                <input type="file" name="image" id="image" accept="image/*" required class="custom-file-input">
            </div>
        </div>

        <button type="submit" class="btn-update">
            <i class="fas fa-sync-alt"></i> Update Profile Image
        </button>
    </form>

    {% if error %}
        <div class="error-message">
            <i class="fas fa-exclamation-circle"></i> {{ error }}
        </div>
    {% endif %}
    
    {% if success %}
        <div class="success-message">
            <i class="fas fa-check-circle"></i> {{ success }}
        </div>
    {% endif %}
</div>

<script src ="{% static 'js/change_profile_image.js' %}"></script>

{% include 'footer.html' %}

{% endblock %}
